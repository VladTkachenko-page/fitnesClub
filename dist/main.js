(()=>{"use strict";(()=>{const e=document.querySelector(".head-main").querySelector(".clubs-list"),t=e.getElementsByTagName("ul");e.addEventListener("click",(()=>{"block"===t[0].style.display?t[0].style.display="none":t[0].style.display="block"})),window.addEventListener("scroll",(function(){pageYOffset>document.querySelector(".header-main").offsetHeight?document.getElementById("totop").style.display="block":document.getElementById("totop").style.display="none"}))})(),(()=>{document.addEventListener("click",(t=>{let n=t.target;if(n.hasAttribute("data-popup")){let t=n.getAttribute("data-popup");e(t)}}));const e=e=>{const n=document.querySelector(e);n.style.display="flex",t(n)},t=e=>{e.addEventListener("click",(t=>{let n=t.target;const o=e.querySelectorAll("input"),l=e.querySelectorAll(".validator-error"),c=e.querySelector(".validator-error2"),s=()=>{o.forEach((e=>{e.classList.remove("success"),e.classList.remove("error"),e.value="",e.checked=!1})),null!==l&&l.forEach((e=>{e.remove()})),null!==c&&c.remove()};n.classList.contains("close-form")||n.classList.contains("close-btn")?(e.style.display="none",s()):(n=n.closest(".form-content"),n||(e.style.display="none",s()))}))};(()=>{const e=document.querySelector(".fixed-gift"),n=document.getElementById("gift");e&&(e.addEventListener("click",(()=>{n.style.display="flex",e.style.display="none"})),t(n))})()})(),(()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t,n=0;const o=()=>{l(e,n,"none"),n++,n>=e.length&&(n=0),c(e,n,"flex")},l=(e,t,n)=>{e[t].style.display=n},c=(e,t,n)=>{e[t].style.display=n};((e=3e3)=>{t=setInterval(o,e)})(3e3)})(),(()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".slider-dots");let o,l=0,c=document.querySelectorAll(".dot");const s=(e,t,n)=>{e[t].classList.remove(n)},r=(e,t,n)=>{e[t].classList.add(n)},a=()=>{c=document.querySelectorAll(".dot"),s(t,l,"slide-active"),s(c,l,"dot-active"),l++,l>=t.length&&(l=0),r(t,l,"slide-active"),r(c,l,"dot-active")},d=(e=3e3)=>{o=setInterval(a,e)};e.addEventListener("click",(e=>{e.preventDefault();const n=e.target;s(t,l,"slide-active"),s(c,l,"dot-active"),n.matches("#arrow-right")?l++:n.matches("#arrow-left")?l--:n.matches(".dot")&&c.forEach(((e,t)=>{e===n&&(l=t)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),r(t,l,"slide-active"),r(c,l,"dot-active")})),e.addEventListener("mouseover",(e=>{(e.target.matches("span")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(e=>{(e.target.matches("span")||e.target.matches(".dot"))&&d()})),(()=>{for(let e=0;e<t.length;e++){const e=document.createElement("li");e.className="dot",n.append(e)}c=document.querySelectorAll(".dot"),c[0].classList.add("dot-active")})(),d(3e3)})(),(()=>{const e=document.querySelector(".services-slider_wrap"),t=e.querySelector(".services-slider"),n=t.querySelectorAll(".slide"),o=e.querySelector(".prev"),l=e.querySelector(".next");let c=0,s=5,r=Math.floor(100/s);n.forEach((e=>{e.style.flex=`0 0 ${r-1}%`}));const a=()=>{r=Math.floor(100/s),n.forEach((e=>{e.style.flex=`0 0 ${r-1}%`}))},d=()=>{document.documentElement.clientWidth<1024&&document.documentElement.clientWidth>768?(s=3,a()):document.documentElement.clientWidth<768&&document.documentElement.clientWidth>576?(s=2,a()):document.documentElement.clientWidth<576?(s=1,a()):(s=5,a())};d(),o.addEventListener("click",(()=>{c>0&&(--c,t.style.transform=`translateX(-${c*r}%)`)})),l.addEventListener("click",(()=>{c<n.length-s&&(++c,t.style.transform=`translateX(-${c*r}%)`)})),window.addEventListener("resize",d)})(),(()=>{const e=document.querySelector(".popup-menu"),t=e.querySelectorAll("ul>li"),n=()=>{e.classList.toggle("popup-menu-active")};document.addEventListener("click",(t=>{let o=t.target,l=t.target,c=t.target;o.closest(".close-menu-btn>img")?n():(o=o.closest(".popup-menu>ul>li>a"),o&&n()),l=l.closest(".menu-button>img"),l?n():(c=c.closest(".popup-menu"),c||e.classList.remove("popup-menu-active"))})),t.forEach((e=>{const t=e.querySelector("a");t.addEventListener("click",(e=>{e.preventDefault(),(e=>{const t=e.getAttribute("href").substring(1),n=document.getElementById(t).getBoundingClientRect().top;window.scrollBy({top:n,behavior:"smooth"})})(t)}))})),window.addEventListener("scroll",(function(){pageYOffset>240&&document.documentElement.clientWidth<768?document.querySelector(".top-menu").style.position="fixed":document.querySelector(".top-menu").style.position="static"})),window.addEventListener("resize",(function(){document.documentElement.clientWidth>767?document.querySelector(".top-menu").style.position="static":pageYOffset>240&&document.documentElement.clientWidth<768&&(document.querySelector(".top-menu").style.position="fixed")}))})(),(()=>{if(!document.querySelector("#mozaika")&&!document.querySelector("#schelkovo")){const e=document.getElementById("card_order").querySelectorAll("input"),t=document.getElementById("card_leto_mozaika"),n=document.getElementById("card_leto_schelkovo"),o=document.getElementById("price-total"),l=document.querySelector(".price-message").querySelector("input"),c=e=>{"1"===e.value?o.textContent=1999:"6"===e.value?o.textContent=9900:"9"===e.value?o.textContent=13900:"12"===e.value&&(o.textContent=19900),l.value=""},s=e=>{"1"===e.value?o.textContent=2999:"6"===e.value?o.textContent=14990:"9"===e.value?o.textContent=21990:"12"===e.value&&(o.textContent=24990),l.value=""};e.forEach((e=>{e.addEventListener("change",(()=>{e.checked&&t.checked&&c(e),e.checked&&n.checked&&s(e),t.addEventListener("click",(()=>c(e))),n.addEventListener("click",(()=>s(e)))}))})),l.addEventListener("input",(()=>{"ТЕЛО2020"===l.value&&(o.textContent=Math.floor(.7*parseFloat(o.textContent)))}))}})(),(()=>{const e="Что-то пошло не так...",t="Спасибо! Мы скоро с вами свяжемся",n=document.getElementById("form1"),o=document.getElementById("form2"),l=document.getElementById("banner-form"),c=document.getElementById("card_order"),s=document.getElementById("footer_form"),r=document.createElement("div"),a=n.querySelectorAll("input"),d=o.querySelectorAll("input"),i=l.querySelectorAll("input"),u=c.querySelectorAll("input"),m=s.querySelectorAll("input"),y=document.querySelectorAll("input");r.style.color="#fff";for(let e=0;e<y.length;e++)"name"===y[e].name?y[e].addEventListener("input",(()=>{y[e].value=y[e].value.replace(/[^а-яА-ЯёЁ ]/,"")})):"phone"===y[e].name&&y[e].addEventListener("input",(()=>{y[e].value=y[e].value.replace(/[^0-9+]/,""),y[e].value.length>12&&(y[e].value=y[e].value.slice(0,12))}));const p=e=>{r.textContent=t,e.forEach((e=>{e.classList.remove("success"),"radio"!==e.getAttribute("type")&&(e.value=""),"checkbox"===e.getAttribute("type")&&(e.checked=!1)}))},v=()=>{const e=document.getElementById("thanks");e.style.display="flex",e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("close-form")||n.classList.contains("close-btn")?e.style.display="none":(n=n.closest(".form-content"),n||(e.style.display="none"))}))},h=()=>{const e=document.getElementById("thanks");e.getElementsByTagName("p")[0].textContent=t,setTimeout((()=>{e.style.display="none"}),5e3)},E=()=>{document.getElementById("thanks").getElementsByTagName("p")[0].textContent=e},f=t=>{r.textContent=e,console.error(t)};n.addEventListener("submit",(e=>{n.appendChild(r),e.preventDefault(),r.textContent="Идет отправка...";const t=new FormData(n),o={};t.forEach(((e,t)=>{o[e]=t})),g(o).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(a)})).catch(f)})),o.addEventListener("submit",(e=>{e.preventDefault(),o.appendChild(r),r.textContent="Идет отправка...";const t=new FormData(o),n={};t.forEach(((e,t)=>{n[e]=t})),g(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(d)})).catch(f)})),l.addEventListener("submit",(e=>{e.preventDefault(),v(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(l),n={};t.forEach(((e,t)=>{n[e]=t})),g(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(i),h()})).catch(E)})),c.addEventListener("submit",(e=>{e.preventDefault(),v(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(c),n={};t.forEach(((e,t)=>{n[e]=t})),g(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(u),h()})).catch(E)})),s.addEventListener("submit",(e=>{e.preventDefault(),v(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(s),n={};t.forEach(((e,t)=>{n[e]=t})),g(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(m),h()})).catch(E)}));const g=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();