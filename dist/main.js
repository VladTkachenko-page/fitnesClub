(()=>{"use strict";(()=>{const e=document.querySelector(".head-main").querySelector(".clubs-list"),t=e.getElementsByTagName("ul");e.addEventListener("click",(()=>{"block"===t[0].style.display?t[0].style.display="none":t[0].style.display="block"}))})(),(()=>{document.addEventListener("click",(t=>{let n=t.target;if(n.hasAttribute("data-popup")){let t=n.getAttribute("data-popup");e(t)}}));const e=e=>{const n=document.querySelector(e);n.style.display="flex",t(n)},t=e=>{e.addEventListener("click",(t=>{let n=t.target;const o=e.querySelectorAll("input"),l=e.querySelectorAll(".validator-error"),s=e.querySelector(".validator-error2"),r=()=>{o.forEach((e=>{e.classList.remove("success"),e.classList.remove("error"),e.value="",e.checked=!1})),null!==l&&l.forEach((e=>{e.remove()})),null!==s&&s.remove()};n.classList.contains("close-form")||n.classList.contains("close-btn")?(e.style.display="none",r()):(n=n.closest(".form-content"),n||(e.style.display="none",r()))}))};(()=>{const e=document.querySelector(".fixed-gift"),n=document.getElementById("gift");e&&(e.addEventListener("click",(()=>{n.style.display="flex",e.style.display="none"})),t(n))})()})(),(()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t,n=0;const o=()=>{l(e,n,"none"),n++,n>=e.length&&(n=0),s(e,n,"flex")},l=(e,t,n)=>{e[t].style.display=n},s=(e,t,n)=>{e[t].style.display=n};((e=3e3)=>{t=setInterval(o,e)})(3e3)})(),(()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide"),n=document.querySelector(".slider-dots");let o,l=0,s=document.querySelectorAll(".dot");const r=(e,t,n)=>{e[t].classList.remove(n)},c=(e,t,n)=>{e[t].classList.add(n)},a=()=>{s=document.querySelectorAll(".dot"),r(t,l,"slide-active"),r(s,l,"dot-active"),l++,l>=t.length&&(l=0),c(t,l,"slide-active"),c(s,l,"dot-active")},d=(e=3e3)=>{o=setInterval(a,e)};e.addEventListener("click",(e=>{e.preventDefault();const n=e.target;r(t,l,"slide-active"),r(s,l,"dot-active"),n.matches("#arrow-right")?l++:n.matches("#arrow-left")?l--:n.matches(".dot")&&s.forEach(((e,t)=>{e===n&&(l=t)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),c(t,l,"slide-active"),c(s,l,"dot-active")})),e.addEventListener("mouseover",(e=>{(e.target.matches("span")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(e=>{(e.target.matches("span")||e.target.matches(".dot"))&&d()})),(()=>{for(let e=0;e<t.length;e++){const e=document.createElement("li");e.className="dot",n.append(e)}s=document.querySelectorAll(".dot"),s[0].classList.add("dot-active")})(),d(3e3)})(),(()=>{const e=document.querySelector(".popup-menu"),t=e.querySelectorAll("ul>li"),n=()=>{e.classList.toggle("popup-menu-active")};document.addEventListener("click",(t=>{let o=t.target,l=t.target,s=t.target;o.closest(".close-menu-btn>img")?n():(o=o.closest(".popup-menu>ul>li>a"),o&&n()),l=l.closest(".menu-button>img"),l?n():(s=s.closest(".popup-menu"),s||e.classList.remove("popup-menu-active"))})),t.forEach((e=>{const t=e.querySelector("a");t.addEventListener("click",(e=>{e.preventDefault(),(e=>{const t=e.getAttribute("href").substring(1),n=document.getElementById(t).getBoundingClientRect().top;window.scrollBy({top:n,behavior:"smooth"})})(t)}))})),window.addEventListener("scroll",(function(){pageYOffset>240&&document.documentElement.clientWidth<768?document.querySelector(".top-menu").style.position="fixed":document.querySelector(".top-menu").style.position="static"}))})(),(()=>{const e="Что-то пошло не так...",t="Спасибо! Мы скоро с вами свяжемся",n=document.getElementById("form1"),o=document.getElementById("form2"),l=document.getElementById("banner-form"),s=document.getElementById("card_order"),r=document.getElementById("footer_form"),c=document.createElement("div"),a=n.querySelectorAll("input"),d=o.querySelectorAll("input"),i=l.querySelectorAll("input"),u=s.querySelectorAll("input"),m=r.querySelectorAll("input"),y=document.querySelectorAll("input");c.style.color="#fff";for(let e=0;e<y.length;e++)"name"===y[e].name?y[e].addEventListener("input",(()=>{y[e].value=y[e].value.replace(/[^а-яА-Я,;. ]/,"")})):"phone"===y[e].name&&y[e].addEventListener("input",(()=>{y[e].value=y[e].value.replace(/[^0-9+]/,""),y[e].value.length>12&&(y[e].value=y[e].value.slice(0,12))}));const p=e=>{c.textContent=t,e.forEach((e=>{e.classList.remove("success"),"radio"!==e.getAttribute("type")&&(e.value=""),"checkbox"===e.getAttribute("type")&&(e.checked=!1)}))},h=()=>{const e=document.getElementById("thanks");e.style.display="flex",e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("close-form")||n.classList.contains("close-btn")?e.style.display="none":(n=n.closest(".form-content"),n||(e.style.display="none"))}))},v=()=>{document.getElementById("thanks").getElementsByTagName("p")[0].textContent=t},g=()=>{document.getElementById("thanks").getElementsByTagName("p")[0].textContent=e},E=t=>{c.textContent=e,console.error(t)};n.addEventListener("submit",(e=>{n.appendChild(c),e.preventDefault(),c.textContent="Идет отправка...";const t=new FormData(n),o={};t.forEach(((e,t)=>{o[e]=t})),f(o).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(a)})).catch(E)})),o.addEventListener("submit",(e=>{e.preventDefault(),o.appendChild(c),c.textContent="Идет отправка...";const t=new FormData(o),n={};t.forEach(((e,t)=>{n[e]=t})),f(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(d)})).catch(E)})),l.addEventListener("submit",(e=>{e.preventDefault(),h(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(l),n={};t.forEach(((e,t)=>{n[e]=t})),f(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(i),v()})).catch(g)})),s.addEventListener("submit",(e=>{e.preventDefault(),h(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(s),n={};t.forEach(((e,t)=>{n[e]=t})),f(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(u),v()})).catch(g)})),r.addEventListener("submit",(e=>{e.preventDefault(),h(),document.getElementById("thanks").getElementsByTagName("p")[0].textContent="Идет отправка...";const t=new FormData(r),n={};t.forEach(((e,t)=>{n[e]=t})),f(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");p(m),v()})).catch(g)}));const f=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();